<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 
<html lang="en"> 
<head> 
    <meta http-equiv="content-type" content="text/html; charset=utf-8"> 
    <title>Title Goes Here</title> 
    <style type="text/css">
        #editor {
            position: absolute;
            width: 500px;
            height: 400px;
        }
    </style>
</head> 
<body> 
    <p>This is my web page</p> 
    <div id="editor">
var x = 5
let mulx5 = n => n*x*5, mulx6 = n => n*x*6

function cat(n){
    return "cat" + mulx5(n)
}
    </div>
    <script src="ace-src/ace.js" type="text/javascript" charset="utf-8"></script>
    <script src="ace-src/mode-javascript.js" type="text/javascript" charset="utf-8"></script>
    <script src="node_modules/acorn/dist/acorn.js" type="text/javascript" charset="utf-8"></script>
    <script src="node_modules/acorn-walk/dist/walk.js" type="text/javascript" charset="utf-8"></script>
    <script src="node_modules/acorn-loose/dist/acorn-loose.js" type="text/javascript" charset="utf-8"></script>
    <script>

        var editor = ace.edit("editor");
        editor.setTheme("ace/theme/monokai");
        var JavaScriptMode = ace.require("ace/mode/javascript").Mode;
        editor.session.setMode(new JavaScriptMode());
        var tree = acorn.parse(editor.getValue());
        var errTree = "";
        editor.on('change', function(ev){
            try{
                tree = acorn.parse(editor.getValue());
            } catch(err){
                errTree = acorn.loose.parse(editor.getValue());
            }
        })
    </script>
</body> 
</html>

